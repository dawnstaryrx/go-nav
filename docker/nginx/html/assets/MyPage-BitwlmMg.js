import{_ as m,r as u,o as p,c as f,b as a,k as o,v as l,x as r,F as b,q as x,e as g}from"./index-DNkYr-Dp.js";import{u as d}from"./user-1tW7kAz0.js";const v={name:"SettingPage",setup(){const t=u({id:"",username:"",email:"",phone:"",nickname:"",linuxdoOpenid:"",githubOpenid:"",createTime:""}),e=async()=>{const n=await d.getCurrentUser();t.value.id=n.data.id,t.value.username=n.data.username,t.value.email=n.data.email,t.value.phone=n.data.phone,t.value.nickname=n.data.nickname,t.value.linuxdoOpenid=n.data.linuxdoOpenid,t.value.githubOpenid=n.data.githubOpenid,t.value.createTime=n.data.createTime},i=async()=>{const n=await d.updateUser(t.value);console.log(n),n.code==0&&x.message("修改成功，部分配置在重新登录后生效。","success")};return p(()=>{e()}),{nowUser:t,getNowUser:e,updateUser:i}}},U={class:"mb-3"},k={class:"mb-3"},w={class:"mb-3"};function y(t,e,i,n,O,T){return g(),f(b,null,[e[7]||(e[7]=a("h3",{style:{"margin-top":"10px"}},"修改个人信息",-1)),a("div",U,[e[4]||(e[4]=a("label",{for:"username",class:"form-label"},"用户名",-1)),o(a("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>n.nowUser.username=s),type:"text",class:"form-control",id:"username",placeholder:"请输入用户名..."},null,512),[[l,n.nowUser.username]])]),a("div",k,[e[5]||(e[5]=a("label",{for:"nickname",class:"form-label"},"昵称",-1)),o(a("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>n.nowUser.nickname=s),type:"text",class:"form-control",id:"nickname",placeholder:"请输入昵称..."},null,512),[[l,n.nowUser.nickname]])]),a("div",w,[e[6]||(e[6]=a("label",{for:"email",class:"form-label"},"邮箱",-1)),o(a("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>n.nowUser.email=s),type:"text",class:"form-control",id:"email",placeholder:"请输入邮箱...",readonly:""},null,512),[[l,n.nowUser.email]])]),a("button",{class:"btn btn-primary",onClick:e[3]||(e[3]=s=>n.updateUser())}," 修改 "),e[8]||(e[8]=a("h3",{style:{"margin-top":"50px"}},"修改密码",-1)),e[9]||(e[9]=r(" 请前往")),e[10]||(e[10]=a("a",{href:"/reset-pwd",target:"_blank"},"修改密码",-1)),e[11]||(e[11]=a("h3",{style:{"margin-top":"50px"}},"绑定GitHub",-1)),e[12]||(e[12]=r(" 待开发 ")),e[13]||(e[13]=a("h3",{style:{"margin-top":"50px"}},"绑定LinuxDo",-1)),e[14]||(e[14]=r(" 待开发 "))],64)}const M=m(v,[["render",y]]);export{M as default};
