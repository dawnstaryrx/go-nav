import{_ as T,r as y,o as x,c as r,b as t,w as O,k as m,v as g,C as D,F as w,h as _,M as L,z as p,q as b,e as i,t as n}from"./index-DNkYr-Dp.js";const k={setup(){const c=y({id:null,title:"",url:"",type:0,weight:0}),o=y([]),h=y([]);let l=null;const v=s=>{const u=document.getElementById(s);l=new L(u),l.show()},M=async()=>{try{(await p.addMenu(c.value)).code===0?(b.message("菜单添加成功"),a(),l.hide(),d(),f()):b.message("添加菜单失败，请重试","danger")}catch(s){console.error(s)}},e=async s=>{try{(await p.deleteMenu(s)).code===0?(b.message("菜单删除成功"),d(),f()):b.message("删除菜单失败，请重试","danger")}catch(u){console.error(u)}},a=()=>{c.value={id:null,title:"",url:"",weight:0,type:0}},d=async()=>{try{const s=await p.getMenuList(0);o.value=s.data}catch(s){console.error(s)}},f=async()=>{try{const s=await p.getMenuList(1);h.value=s.data}catch(s){console.error(s)}};return x(()=>{d(),f()}),{menuDTO:c,submitMenu:M,openModal:v,menuTopList:o,menuBottomList:h,deleteMenu:e}}},B={class:"container mt-4",style:{margin:"0px"}},C={class:"row"},U={class:"col"},E={class:"modal fade",id:"addMenuModal",tabindex:"-1","aria-labelledby":"addMenuModalLabel","aria-hidden":"true"},F={class:"modal-dialog"},V={class:"modal-content"},S={class:"modal-body"},R={class:"mb-3"},q={class:"mb-3"},z={class:"mb-3"},A={class:"mb-3"},I={class:"accordion accordion-flush",id:"accordionFlushExample",style:{"margin-top":"30px"}},N={class:"accordion-item"},P={id:"flush-collapseOne",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},j={class:"accordion-body"},G={class:"table text-center"},H={scope:"row"},J=["onClick"],K={class:"accordion-item"},Q={id:"flush-collapseTwo",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},W={class:"accordion-body"},X={class:"table text-center"},Y={scope:"row"},Z=["onClick"];function $(c,o,h,l,v,M){return i(),r("div",B,[t("div",C,[t("div",U,[t("button",{class:"btn btn-primary",onClick:o[0]||(o[0]=e=>l.openModal("addMenuModal"))},"添加菜单")])]),t("div",E,[t("div",F,[t("div",V,[o[12]||(o[12]=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"addMenuModalLabel"},"添加菜单"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),t("div",S,[t("form",{onSubmit:o[5]||(o[5]=O((...e)=>l.submitMenu&&l.submitMenu(...e),["prevent"]))},[t("div",R,[o[6]||(o[6]=t("label",{for:"add-name",class:"form-label"},"名称",-1)),m(t("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>l.menuDTO.title=e),type:"text",class:"form-control",id:"add-name",placeholder:"输入menu名称"},null,512),[[g,l.menuDTO.title]])]),t("div",q,[o[7]||(o[7]=t("label",{for:"add-url",class:"form-label"},"URL",-1)),m(t("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>l.menuDTO.url=e),type:"text",class:"form-control",id:"add-url",placeholder:"输入menu URL"},null,512),[[g,l.menuDTO.url]])]),t("div",z,[o[8]||(o[8]=t("label",{for:"add-weight",class:"form-label"},"权重",-1)),m(t("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>l.menuDTO.weight=e),type:"number",class:"form-control",id:"add-weight",placeholder:"输入权重"},null,512),[[g,l.menuDTO.weight]])]),t("div",A,[o[10]||(o[10]=t("label",{for:"add-status",class:"form-label"},"类型",-1)),m(t("select",{"onUpdate:modelValue":o[4]||(o[4]=e=>l.menuDTO.type=e),class:"form-select",id:"add-status"},o[9]||(o[9]=[t("option",{value:"0"},"顶部",-1),t("option",{value:"1"},"底部",-1)]),512),[[D,l.menuDTO.type]])]),o[11]||(o[11]=t("button",{type:"submit",class:"btn btn-primary",style:{float:"inline-end"}},"确认添加",-1))],32)])])])]),t("div",I,[t("div",N,[o[14]||(o[14]=t("h2",{class:"accordion-header"},[t("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne"}," 顶部导航菜单 ")],-1)),t("div",P,[t("div",j,[t("table",G,[o[13]||(o[13]=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"名称"),t("th",{scope:"col"},"网址"),t("th",{scope:"col"},"权重"),t("th",{scope:"col"},"创建时间"),t("th",{scope:"col"},"操作")])],-1)),t("tbody",null,[(i(!0),r(w,null,_(l.menuTopList,(e,a)=>(i(),r("tr",{key:a},[t("th",H,n(a+1),1),t("td",null,n(e.title),1),t("td",null,n(e.url),1),t("td",null,n(e.weight),1),t("td",null,n(e.createTime),1),t("td",null,[t("button",{class:"btn btn-danger",onClick:d=>l.deleteMenu(e.id)},"删除",8,J)])]))),128))])])])])]),t("div",K,[o[16]||(o[16]=t("h2",{class:"accordion-header"},[t("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseTwo","aria-expanded":"false","aria-controls":"flush-collapseTwo"}," 友情链接 ")],-1)),t("div",Q,[t("div",W,[t("table",X,[o[15]||(o[15]=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"名称"),t("th",{scope:"col"},"网址"),t("th",{scope:"col"},"权重"),t("th",{scope:"col"},"创建时间"),t("th",{scope:"col"},"操作")])],-1)),t("tbody",null,[(i(!0),r(w,null,_(l.menuBottomList,(e,a)=>(i(),r("tr",{key:a},[t("th",Y,n(a+1),1),t("td",null,n(e.title),1),t("td",null,n(e.url),1),t("td",null,n(e.weight),1),t("td",null,n(e.createTime),1),t("td",null,[t("button",{class:"btn btn-danger",onClick:d=>l.deleteMenu(e.id)},"删除",8,Z)])]))),128))])])])])])])])}const ot=T(k,[["render",$]]);export{ot as default};
